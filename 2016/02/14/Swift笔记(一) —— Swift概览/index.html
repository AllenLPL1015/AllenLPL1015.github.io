<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>泣子貘的一点笔记</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="title : Swift笔记(一) —— Swift概览
Swift笔记(一) —— Swift概览swift的全局作用域就是程序的入口，所以并不需要main()函数，同样每行并不需要写分号。
简单的值let标识常量、var是变量关键字。类型是自动类型，类似C++的auto，会自动根据值推测类型。1234var myVariable = 42 				//变量myVariable = 50">
<meta property="og:type" content="article">
<meta property="og:title" content="泣子貘的一点笔记">
<meta property="og:url" content="http://yoursite.com/2016/02/14/Swift笔记(一) —— Swift概览/index.html">
<meta property="og:site_name" content="泣子貘的一点笔记">
<meta property="og:description" content="title : Swift笔记(一) —— Swift概览
Swift笔记(一) —— Swift概览swift的全局作用域就是程序的入口，所以并不需要main()函数，同样每行并不需要写分号。
简单的值let标识常量、var是变量关键字。类型是自动类型，类似C++的auto，会自动根据值推测类型。1234var myVariable = 42 				//变量myVariable = 50">
<meta property="og:updated_time" content="2016-02-14T02:09:31.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="泣子貘的一点笔记">
<meta name="twitter:description" content="title : Swift笔记(一) —— Swift概览
Swift笔记(一) —— Swift概览swift的全局作用域就是程序的入口，所以并不需要main()函数，同样每行并不需要写分号。
简单的值let标识常量、var是变量关键字。类型是自动类型，类似C++的auto，会自动根据值推测类型。1234var myVariable = 42 				//变量myVariable = 50">
  
    <link rel="alternative" href="/atom.xml" title="泣子貘的一点笔记" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="/img/headicon.png" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">泣子貘</a></h1>
		</hgroup>

		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						
					</div>
				</section>
				
				
				

				
				
				<section class="switch-part switch-part3">
				
					<div id="js-aboutme">极端的环境锻炼人极端的适应能力，不能因为出门踩上的狗屎放弃一生的旅行。</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">泣子貘</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="/img/headicon.png" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">泣子貘</h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap"><article id="post-Swift笔记(一) —— Swift概览" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/02/14/Swift笔记(一) —— Swift概览/" class="article-date">
  	<time datetime="2016-02-14T02:09:31.000Z" itemprop="datePublished">2016-02-14</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>title : Swift笔记(一) —— Swift概览</p>
<h1 id="Swift笔记(一)_——_Swift概览">Swift笔记(一) —— Swift概览</h1><p>swift的全局作用域就是程序的入口，所以并不需要main()函数，同样每行并不需要写分号。</p>
<h2 id="简单的值">简单的值</h2><h3 id="let标识常量、var是变量关键字。类型是自动类型，类似C++的auto，会自动根据值推测类型。">let标识常量、var是变量关键字。类型是自动类型，类似C++的auto，会自动根据值推测类型。</h3><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myVariable = <span class="number">42</span> 				<span class="comment">//变量</span></span><br><span class="line">myVariable = <span class="number">50</span>						<span class="comment">//当然变量可以赋值</span></span><br><span class="line"><span class="keyword">let</span> myConstant = <span class="number">42</span>					<span class="comment">//常量</span></span><br><span class="line"><span class="keyword">let</span> explicitDouble: Double = <span class="number">70</span>	    <span class="comment">//给定类型并赋值</span></span><br></pre></td></tr></table></figure>
<p>类型转换需要显示的写出来，转字符串还有()这种简化的方式</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let widthLabel = <span class="tag">label</span> + <span class="function"><span class="title">String</span><span class="params">(myConstant)</span></span></span><br><span class="line">let simpleWay = <span class="string">"new way \(width + 2)"</span></span><br></pre></td></tr></table></figure>
<h3 id="字典和数组都使用中括号初始化，最后一个元素后是可以跟逗号的">字典和数组都使用中括号初始化，最后一个元素后是可以跟逗号的</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable"><span class="keyword">var</span> shopArray</span> = [<span class="number">1</span>, <span class="string">"你好"</span>]	             <span class="comment">//数组，类型可以混编</span></span><br><span class="line"><span class="variable"><span class="keyword">var</span> shopDict</span> = [<span class="string">"key1"</span>: <span class="number">1</span>, <span class="number">2</span>: <span class="string">"value"</span>]    <span class="comment">//字典，Swift中数值和字符串似乎是一样的，不在需要NSNumber这种包装</span></span><br></pre></td></tr></table></figure>
<p>空的初始化如下：</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">let emptyArray = [<span class="link_label">String</span>](<span class="link_url"></span>)</span><br><span class="line">let emptyDict = [<span class="link_label">String: Float</span>](<span class="link_url"></span>)</span><br><span class="line">let shoppingList = []</span><br><span class="line">let occupations = [:]</span><br></pre></td></tr></table></figure>
<h2 id="流程控制">流程控制</h2><h3 id="forin不需要括号了">forin不需要括号了</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">let scores = [3, 4, 5, 6]</span><br><span class="line"><span class="keyword">var</span> teamScore = 0</span><br><span class="line"><span class="keyword">for</span> <span class="keyword">score</span> <span class="keyword">in</span> scores &#123;</span><br><span class="line">   	<span class="keyword">if</span> <span class="keyword">score</span> &gt; 5 &#123;</span><br><span class="line">       	teamScore -= 1</span><br><span class="line">   	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">       	teamScore += 1</span><br><span class="line">   	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">print</span>(teamScore)</span><br></pre></td></tr></table></figure>
<h3 id="if也不再需要括号，对于可能为空的值，把let和if结合使用，也就是Optional的值，它可以允许一个变量为nil，用?跟在它的类型之后。">if也不再需要括号，对于可能为空的值，把let和if结合使用，也就是Optional的值，它可以允许一个变量为nil，用?跟在它的类型之后。</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> optionalStringNil: <span class="type">String</span>? = <span class="literal">nil</span></span><br><span class="line"><span class="keyword">let</span> optionalString: <span class="type">String</span>? = <span class="string">"test"</span></span><br><span class="line">	</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> name = optionStringNil &#123;</span><br><span class="line">	<span class="built_in">print</span>(<span class="string">"not empty <span class="subst">\(name)</span>"</span>)    <span class="comment">//不为空</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">	<span class="built_in">print</span>(<span class="string">"empty"</span>)</span><br><span class="line">&#125;</span><br><span class="line">	</span><br><span class="line"><span class="keyword">if</span> optionString != <span class="literal">nil</span> &#123;</span><br><span class="line">   	<span class="built_in">print</span>(optionString)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="??操作符，它表示如果一个Optional量的值为空，使用默认值代替它">??操作符，它表示如果一个Optional量的值为空，使用默认值代替它</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> nickName: <span class="built_in">String</span>?  <span class="comment">//默认为nil</span></span><br><span class="line"><span class="keyword">let</span> nickName: <span class="built_in">String</span>   <span class="comment">//未经过初始化，没有初值，甚至nil</span></span><br><span class="line"><span class="keyword">let</span> fullName: <span class="built_in">String</span>? = <span class="string">"Allen Lee"</span>		<span class="keyword">let</span> informString = <span class="string">"Hi \(nickName ?? fullName)"</span>  <span class="comment">//输出Allen Lee</span></span><br></pre></td></tr></table></figure>
<h3 id="switch语句不需要break了。switch可以检测多种类型，包括字符串。">switch语句不需要break了。switch可以检测多种类型，包括字符串。</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> vegetable = <span class="string">"茄子"</span></span><br><span class="line"><span class="keyword">switch</span> vegetable &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="string">"芹菜"</span>:</span><br><span class="line">   	<span class="built_in">print</span>(<span class="string">"芹菜"</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="string">"萝卜"</span>, <span class="string">"茄子"</span>:</span><br><span class="line">   	<span class="built_in">print</span>(<span class="string">"萝卜或者茄子"</span>)</span><br><span class="line">   	<span class="built_in">print</span>(<span class="string">"其他"</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="keyword">let</span> x <span class="keyword">where</span> x.hasSuffix(<span class="string">"椒"</span>):</span><br><span class="line">   	<span class="built_in">print</span>(<span class="string">"<span class="subst">\(x)</span>是某种辣椒"</span>)</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">   	<span class="built_in">print</span>(<span class="string">"默认"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面这段代码要注意：</p>
<ul>
<li>default必须有</li>
<li>不需要大括号把一个case框起来，而且可以用逗号列举多个</li>
<li>如果后面要用，可以用where作为筛选条件赋值</li>
</ul>
<h3 id="字典的for-in语句，可以键值一起遍历">字典的for-in语句，可以键值一起遍历</h3><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">let interestingNumber = [</span><br><span class="line">	<span class="string">"一"</span>: [<span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>],</span><br><span class="line">	<span class="string">"二"</span>: [<span class="number">4</span>]</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (number, array) <span class="keyword">in</span> interestingNumber &#123;</span><br><span class="line">	<span class="keyword">for</span> <span class="built_in">num</span> <span class="keyword">in</span> array &#123;</span><br><span class="line">		<span class="built_in">print</span>(number)</span><br><span class="line">		<span class="built_in">print</span>(<span class="built_in">num</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="while没啥说的，数值遍历很实用。">while没啥说的，数值遍历很实用。</h3><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">//</span><span class="keyword">do</span>-<span class="keyword">while</span>变成了repeat-<span class="keyword">while</span>，换了个关键字</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0.</span>.&lt;<span class="number">5</span> &#123;</span><br><span class="line">   	<span class="regexp">//</span>输出<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span></span><br><span class="line">   	<span class="built_in">print</span>(i)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0.</span>..<span class="number">5</span> &#123;</span><br><span class="line">   	<span class="regexp">//</span>输出<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span></span><br><span class="line">   	<span class="built_in">print</span>(i)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> <span class="reserved">var</span> i = <span class="number">0</span>; i &lt;= <span class="number">5</span>; ++i &#123;</span><br><span class="line">   	<span class="built_in">print</span>(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="函数和闭包">函数和闭包</h2><h3 id="函数，下面是一个函数的标准形式和用法">函数，下面是一个函数的标准形式和用法</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">funcName</span><span class="params">(name: String, number: Int)</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">	<span class="built_in">print</span>(<span class="string">"<span class="subst">\(name)</span> and <span class="subst">\(number)</span>是参数，返回类型为String"</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> returnString = funcName(<span class="string">"gg"</span>, number: <span class="number">4</span>);</span><br></pre></td></tr></table></figure>
<p>更强大的是，通过对元组的支持，可以允许函数多返回值的存在。</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//参数为一个数组</span></span><br><span class="line"><span class="tag">func</span> <span class="tag">moreReturn</span>(<span class="attribute">number</span>: [Int]) <span class="tag">-</span>&gt; (<span class="attribute">max</span>: Int, <span class="attribute">name</span>: String) &#123;</span><br><span class="line">	...</span><br><span class="line">	<span class="tag">return</span> (<span class="number">4</span>, <span class="string">"name"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//也可以使用可变数量参数，内部会当做一个数组</span></span><br><span class="line"><span class="tag">func</span> <span class="tag">moreReturn</span>(<span class="attribute">number</span>: ...) <span class="tag">-</span>&gt; (<span class="attribute">max</span>: Int, <span class="attribute">name</span>: String) &#123;</span><br><span class="line">	...</span><br><span class="line">	<span class="tag">return</span> (<span class="number">4</span>, <span class="string">"name"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="2-_内部函数，对于一些复杂的逻辑，可以使用函数的嵌套来整理代码。">2. 内部函数，对于一些复杂的逻辑，可以使用函数的嵌套来整理代码。</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">returnFifteen</span><span class="params">()</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">	<span class="keyword">var</span> y = <span class="number">10</span></span><br><span class="line">	<span class="func"><span class="keyword">func</span> <span class="title">add</span><span class="params">()</span></span> &#123;</span><br><span class="line">		y += <span class="number">5</span></span><br><span class="line">	&#125;</span><br><span class="line">	add()</span><br><span class="line">	<span class="keyword">return</span> y</span><br><span class="line">&#125;</span><br><span class="line">returnFifteen()</span><br></pre></td></tr></table></figure>
<p>函数是基础类型，所以它也可以作为返回值</p>
<figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">func makeIncrement<span class="function"><span class="params">()</span> -&gt;</span> <span class="function"><span class="params">((Int) -&gt; Int)</span> &#123;</span><br><span class="line">	//返回一个参数<span class="title">Int</span>返回值<span class="title">Int</span>的函数</span><br><span class="line">	<span class="title">func</span> <span class="title">addOne</span><span class="params">(number: Int)</span> -&gt;</span> Int &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">1</span> + number</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> addOne</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> funcTemp = makeIncrement()</span><br><span class="line">funcTemp(<span class="number">4</span>)</span><br></pre></td></tr></table></figure>
<p>当然也可以作为参数</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">hasAnyMatches</span><span class="params">(list: [Int], condition: <span class="params">(Int)</span></span></span> -&gt; <span class="type">Bool</span>) -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">	<span class="keyword">for</span> item <span class="keyword">in</span> list &#123;</span><br><span class="line">		<span class="keyword">if</span> (condition(item)) &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="函数是一种特殊的闭包，代码块可以在后期被执行，闭包可以使用其创建的作用域的变量和函数，在它执行的地方依然可以使用，通常写一个闭包可以省略名字，直接用{}包裹起来，并且使用in关键字来分开body和参数、返回值。">函数是一种特殊的<strong>闭包</strong>，代码块可以在后期被执行，闭包可以使用其创建的作用域的变量和函数，在它执行的地方依然可以使用，通常写一个闭包可以省略名字，直接用<strong><code>{}</code></strong>包裹起来，并且使用<strong><code>in</code></strong>关键字来分开body和参数、返回值。</h3><figure class="highlight nimrod"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">numbers.map(&#123;</span><br><span class="line">	(number: <span class="type">Int</span>) -&gt; <span class="type">Int</span> <span class="keyword">in</span></span><br><span class="line">		<span class="keyword">let</span> <span class="literal">result</span> = <span class="number">4</span> * number</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">result</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>它可以写的更简洁，如果一个闭包的类型都已经知道了，比如作为delegate的回调，可以省略它的参数类型和返回类型，比如：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let mapedNumber = numbers.<span class="function"><span class="title">map</span><span class="params">(&#123; number in <span class="number">4</span> * number&#125;)</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(mapedNumber)</span></span></span><br></pre></td></tr></table></figure>
<p>这两段代码的作用是遍历一个叫number的数组，遍历的时候每个成员number变为其四倍。</p>
<h3 id="还有一些技巧，参数可以用标号代替$0、$1，从0开始，如果唯一的参数是闭包，小括号都可以省略。">还有一些技巧，参数可以用标号代替<code>$0</code>、<code>$1</code>，从<strong>0</strong>开始，如果唯一的参数是闭包，小括号都可以省略。</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> sortedNumber = numbers.sort&#123; <span class="variable">$0</span> &gt; <span class="variable">$1</span> &#125;</span><br><span class="line"><span class="built_in">print</span>(sortedNumber)</span><br></pre></td></tr></table></figure>
<h2 id="对象和类">对象和类</h2><p>类的属性(let或var)和方法的定义和外部是一样的，类用class关键字标识。初始化是类名后加括号，返回一个对象，<strong><code>.</code></strong>操作符用来访问成变量和实例方法。必须定义<strong>init</strong>方法来初始化，相当于构造函数，析构函数为<strong>deinit</strong>，<strong>init</strong>当然可以接收参数的，此外，所有覆盖了基类函数的函数<strong>必须</strong>写<strong>override</strong>关键字，否则无法通过编译。<br>此外，类的成员还会带有get、set方法，注意隐含的<strong>newSet</strong>，除此之外在get、set前后还有willSet、didSet、willGet、didGet方法。</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestClass</span>: <span class="typename">BaseClass &#123;</span></span></span><br><span class="line">	...</span><br><span class="line">	<span class="variable"><span class="keyword">var</span> peterm</span>: <span class="typename">Int</span> &#123;</span><br><span class="line">		<span class="keyword">get</span> &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="number">4</span></span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">set</span> &#123;</span><br><span class="line">			...</span><br><span class="line">			<span class="comment">//在这里newValue是隐含的set函数的参数</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>对于optional的值，使用时可以用<code>？</code>进行拆包。如果<code>?</code>之前的值是<code>nil</code>，则忽略之后的表达式。</p>
<figure class="highlight ceylon"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> sideLength = optionalString?.sideLength  <span class="comment">//如果optionalString是nil，则忽略后面的取sideLength操作。</span></span><br></pre></td></tr></table></figure>
<h2 id="枚举和结构体">枚举和结构体</h2><p>使用<code>enum</code>关键字来标识枚举，枚举像类一样，可以拥有方法。</p>
<h3 id="枚举的基本样式">枚举的基本样式</h3><p>rawValue返回的是枚举类型的实际值，这里是<code>Int</code>类型，同样可以用浮点型、字符串等</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Rank</span>: <span class="title">Int</span> </span>&#123;</span><br><span class="line">	<span class="keyword">case</span> <span class="type">Ace</span> = <span class="number">1</span></span><br><span class="line">	<span class="keyword">case</span> <span class="type">Two</span>, <span class="type">Three</span>, <span class="type">Four</span>, <span class="type">Five</span>, <span class="type">Six</span>, <span class="type">Seven</span>, <span class="type">Eight</span>, <span class="type">Nine</span>, <span class="type">Ten</span></span><br><span class="line">	<span class="keyword">case</span> <span class="type">Jack</span>, <span class="type">Queen</span>, <span class="type">King</span></span><br><span class="line">	<span class="func"><span class="keyword">func</span> <span class="title">simpleDescription</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">		<span class="keyword">switch</span> <span class="keyword">self</span> &#123;</span><br><span class="line">			<span class="keyword">case</span> .<span class="type">Ace</span>:</span><br><span class="line">				<span class="keyword">return</span> <span class="string">"Ace"</span></span><br><span class="line">			<span class="keyword">case</span> .<span class="type">Jack</span>:</span><br><span class="line">				<span class="keyword">return</span> <span class="string">"Jack"</span></span><br><span class="line">			<span class="keyword">case</span> .<span class="type">Queen</span>:</span><br><span class="line">				<span class="keyword">return</span> <span class="string">"Queen"</span></span><br><span class="line">			<span class="keyword">case</span> .<span class="type">King</span>:</span><br><span class="line">				<span class="keyword">return</span> <span class="string">"King"</span></span><br><span class="line">			<span class="keyword">default</span>:</span><br><span class="line">				<span class="keyword">return</span> <span class="type">String</span>(<span class="keyword">self</span>.rawValue)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> ace = <span class="type">Rank</span>.<span class="type">Ace</span></span><br><span class="line"><span class="keyword">let</span> aceRawValue = ace.rawValue   <span class="comment">//值为1</span></span><br></pre></td></tr></table></figure>
<p>而且对于case后的值，如果用不到也可以不赋值。</p>
<h3 id="结构体">结构体</h3><p><code>struct</code>定义，它和类很像区别是它每次都会深拷贝，而类只是传引用。</p>
<h3 id="枚举可以有与其关联的值">枚举可以有与其关联的值</h3><p>同一个枚举的不同实例的关联值可以是不同的，而case是一样的。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">ServerResponse</span> </span>&#123;</span><br><span class="line">	<span class="keyword">case</span> <span class="type">Result</span>(<span class="type">String</span>, <span class="type">String</span>)</span><br><span class="line">	<span class="keyword">case</span> <span class="type">Error</span>(<span class="type">String</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> success = <span class="type">ServerResponse</span>.<span class="type">Result</span>(<span class="string">"1"</span>, <span class="string">"2"</span>)</span><br><span class="line"><span class="keyword">let</span> failure = <span class="type">ServerResponse</span>.<span class="type">Error</span>(<span class="string">"error"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> success &#123;</span><br><span class="line"><span class="comment">//这里的let是指sunrise和sunset，分别由1、2赋值，.Result省略了 ServerResponse.Result</span></span><br><span class="line"><span class="keyword">case</span> <span class="keyword">let</span> .<span class="type">Result</span>(sunrise, sunset):</span><br><span class="line">	<span class="built_in">print</span>(<span class="string">"<span class="subst">\(sunrise)</span>  <span class="subst">\(sunset)</span>"</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="keyword">let</span> .<span class="type">Error</span>(error):</span><br><span class="line">	<span class="built_in">print</span>(<span class="string">"<span class="subst">\(error)</span>"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="协议和扩展">协议和扩展</h2><h3 id="mutating关键字"><code>mutating</code>关键字</h3><p>由于structure和枚举都是值类型，它们内部虽然可以定义方法，但是它们的内部方法是不允许修改其属性的，如果某个方法想修改属性，必须用关键字mutating标记，而类就不用了</p>
<h3 id="协议">协议</h3><p>协议可以被类、枚举、结构体实现</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">ExampleProtocol</span> </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> simpleDescription: <span class="type">String</span> &#123;<span class="keyword">get</span>&#125;</span><br><span class="line">	<span class="keyword">mutating</span> <span class="func"><span class="keyword">func</span> <span class="title">adjust</span><span class="params">()</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="扩展">扩展</h3><p>扩展可以用来扩充已有的类，它需要使用<code>extension</code>关键字</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Int</span>: <span class="title">ExampleProtocol</span> </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> simpleDescription: <span class="type">String</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">"test"</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">mutating</span> <span class="func"><span class="keyword">func</span> <span class="title">adjust</span><span class="params">()</span></span> &#123;</span><br><span class="line">		<span class="keyword">self</span> += <span class="number">42</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这样就给Int增加了新的方法和属性</p>
<h3 id="协议与类型">协议与类型</h3><p>协议可以被当成一个普通的类型使用，</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let protocolValue: ExampleProtocol = <span class="tag">a</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(protocolValue.simpleDescription)</span></span></span><br></pre></td></tr></table></figure>
<p><strong>a</strong>是一个实现了ExampleProtocol的类的实例，虽然运行时会给予protocolValue一个a的类型，但是编译器不会允许代码中使用非来源于ExampleProtocol的方法，必须a的类中的方法，编译无法通过。</p>
<h2 id="泛型Generics">泛型Generics</h2><p>中括号框起一个名字，即定义了一个泛型。</p>
<figure class="highlight nimrod"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">func repeatItem&lt;<span class="type">Item</span>&gt;(item: <span class="type">Item</span>, numberOfItems: <span class="type">Int</span>) -&gt; [<span class="type">Item</span>] &#123;</span><br><span class="line">	<span class="keyword">var</span> <span class="literal">result</span> = [<span class="type">Item</span>]()</span><br><span class="line">	<span class="keyword">for</span> _ <span class="keyword">in</span> <span class="number">0</span>..&lt;numberOfItems &#123;</span><br><span class="line">		<span class="literal">result</span>.append(item)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">result</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这是一个泛型函数，类、结构体、枚举也都可以。</p>
<figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> OptionalValue&lt;Wrapped&gt; &#123;</span><br><span class="line">	<span class="keyword">case</span> <span class="type">None</span></span><br><span class="line">	<span class="keyword">case</span> Some&lt;Wrapped&gt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var positionInt: OptionalValue&lt;<span class="built_in">Int</span>&gt; = .<span class="type">None</span></span><br><span class="line">positionInt = .Some(<span class="number">100</span>)</span><br></pre></td></tr></table></figure>
<h3 id="配合where">配合where</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">anyCommonElements</span> <span class="generics">&lt;T: SequenceType, U: SequenceType where T.Generator.Element: Equatable, T.Generator.Element == U.Generator.Element&gt;</span> <span class="params">(lhs: T, <span class="number">_</span> rhs: U)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>可以用多个限制条件协调泛型的筛选规则。</p>

      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2016/02/02/Swift笔记(四)——集合/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title"></div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>

  
</article>


<div class="share">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">分享到：</span>
		<a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
		<a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>





</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 泣子貘
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>